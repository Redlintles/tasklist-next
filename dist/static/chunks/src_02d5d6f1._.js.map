{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/jota/Documentos/node/Next%20js/tasklist-fullstack/src/components/MainList/MainList.tsx"],"sourcesContent":["\"use client\";\nimport { Task } from \"@/types/data\";\nimport React, { FormEvent, useEffect, useState } from \"react\";\nimport \"./style.css\";\nimport { IoMdClose } from \"react-icons/io\";\ninterface MainListProps {\n  initialTasks: Task[];\n}\n\nfunction MainList({ initialTasks }: MainListProps) {\n  const [toUpdate, setToUpdate] = useState<number>(-1);\n  const [tasks, setTasks] = useState<Task[]>(initialTasks);\n  const [name, setName] = useState<string>(\"\");\n  const [desc, setDesc] = useState<string>(\"\");\n  useEffect(() => {\n    setTasks(initialTasks);\n  }, [initialTasks]);\n\n  async function fetchData() {\n    const tasks = await fetch(\"/api/task\").then((res) => res.json());\n    setTasks(tasks.tasks);\n  }\n\n  async function handleUpdate(e: FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    await fetch(`/api/task/${toUpdate}`, {\n      method: \"PATCH\",\n      body: JSON.stringify({ name, description: desc }),\n    })\n      .then((res) => res.json())\n      .then(() => fetchData());\n    setToUpdate(-1);\n  }\n\n  async function deleteTask(id: number) {\n    const res = await fetch(`/api/task/${id}`, {\n      method: \"DELETE\",\n    })\n      .then((res) => res.json())\n      .then(() => fetchData());\n\n    console.log(res);\n  }\n\n  return (\n    <>\n      <h2>Lista de Tarefas:</h2>\n      <div className=\"main-list\">\n        {toUpdate > 0 && (\n          <div className=\"main-list-form\">\n            <div className=\"main-list-form__header\">\n              <h5>Atualizar Tarefa</h5>\n\n              <button onClick={() => setToUpdate(-1)}>\n                <IoMdClose />\n              </button>\n            </div>\n\n            <form onSubmit={handleUpdate}>\n              <label>\n                <span>Nome: </span>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  onChange={(e) => setName(e.target.value)}\n                  value={name}\n                />\n              </label>\n              <label>\n                <span>Descrição: </span>\n                <textarea\n                  name=\"description\"\n                  id=\"\"\n                  value={desc}\n                  onChange={(e) => setDesc(e.target.value)}\n                ></textarea>\n              </label>\n              <button type=\"submit\" className=\"btn\">\n                Atualizar\n              </button>\n            </form>\n          </div>\n        )}\n\n        {tasks && tasks.length > 0 ? (\n          tasks.map((item) => (\n            <div key={item.id} className=\"main-list__item\">\n              <h4 className=\"item__title\">{item.name}</h4>\n              <p className=\"item__desc\">{item.description}</p>\n              <div className=\"item__buttons\">\n                <button\n                  onClick={() => {\n                    setToUpdate(item.id);\n                    setDesc(item.description);\n                    setName(item.name);\n                  }}\n                  className=\"btn\"\n                >\n                  Editar Tarefa\n                </button>\n                <button onClick={() => deleteTask(item.id)} className=\"btn\">\n                  Excluir Tarefa\n                </button>\n              </div>\n            </div>\n          ))\n        ) : (\n          <h3 className=\"main-list__no-items\">Nenhuma Tarefa!</h3>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default MainList;\n"],"names":[],"mappings":";;;;AAEA;AAEA;;;AAJA;;;;AASA,SAAS,SAAS,EAAE,YAAY,EAAiB;;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,CAAC;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,SAAS;QACX;6BAAG;QAAC;KAAa;IAEjB,eAAe;QACb,MAAM,QAAQ,MAAM,MAAM,aAAa,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QAC7D,SAAS,MAAM,KAAK;IACtB;IAEA,eAAe,aAAa,CAA6B;QACvD,EAAE,cAAc;QAEhB,MAAM,MAAM,CAAC,UAAU,EAAE,UAAU,EAAE;YACnC,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM,aAAa;YAAK;QACjD,GACG,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,IAAM;QACd,YAAY,CAAC;IACf;IAEA,eAAe,WAAW,EAAU;QAClC,MAAM,MAAM,MAAM,MAAM,CAAC,UAAU,EAAE,IAAI,EAAE;YACzC,QAAQ;QACV,GACG,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,IAAM;QAEd,QAAQ,GAAG,CAAC;IACd;IAEA,qBACE;;0BACE,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAI,WAAU;;oBACZ,WAAW,mBACV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;kDAAG;;;;;;kDAEJ,6LAAC;wCAAO,SAAS,IAAM,YAAY,CAAC;kDAClC,cAAA,6LAAC,iJAAA,CAAA,YAAS;;;;;;;;;;;;;;;;0CAId,6LAAC;gCAAK,UAAU;;kDACd,6LAAC;;0DACC,6LAAC;0DAAK;;;;;;0DACN,6LAAC;gDACC,MAAK;gDACL,MAAK;gDACL,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gDACvC,OAAO;;;;;;;;;;;;kDAGX,6LAAC;;0DACC,6LAAC;0DAAK;;;;;;0DACN,6LAAC;gDACC,MAAK;gDACL,IAAG;gDACH,OAAO;gDACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;kDAG3C,6LAAC;wCAAO,MAAK;wCAAS,WAAU;kDAAM;;;;;;;;;;;;;;;;;;oBAO3C,SAAS,MAAM,MAAM,GAAG,IACvB,MAAM,GAAG,CAAC,CAAC,qBACT,6LAAC;4BAAkB,WAAU;;8CAC3B,6LAAC;oCAAG,WAAU;8CAAe,KAAK,IAAI;;;;;;8CACtC,6LAAC;oCAAE,WAAU;8CAAc,KAAK,WAAW;;;;;;8CAC3C,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,SAAS;gDACP,YAAY,KAAK,EAAE;gDACnB,QAAQ,KAAK,WAAW;gDACxB,QAAQ,KAAK,IAAI;4CACnB;4CACA,WAAU;sDACX;;;;;;sDAGD,6LAAC;4CAAO,SAAS,IAAM,WAAW,KAAK,EAAE;4CAAG,WAAU;sDAAM;;;;;;;;;;;;;2BAdtD,KAAK,EAAE;;;;kDAqBnB,6LAAC;wBAAG,WAAU;kCAAsB;;;;;;;;;;;;;;AAK9C;GAxGS;KAAA;uCA0GM","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///home/jota/Documentos/node/Next%20js/tasklist-fullstack/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { FormEvent, useEffect, useState } from \"react\";\nimport MainList from \"../components/MainList/MainList\";\nimport { Task } from \"@/types/data\";\nexport default function Home() {\n  const [name, setName] = useState<string>(\"\");\n  const [desc, setDesc] = useState<string>(\"\");\n  const [tasks, setTasks] = useState<Task[]>([]);\n\n  async function fetchData() {\n    const tasks = await fetch(\"/api/task\").then((res) => res.json());\n    setTasks(tasks.tasks);\n  }\n\n  async function handlePost(e: FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n\n    await fetch(\"/api/task\", {\n      method: \"POST\",\n      body: JSON.stringify({ name, description: desc }),\n    })\n      .then((res) => res.json())\n      .then(() => fetchData());\n\n    setName(\"\");\n    setDesc(\"\");\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return (\n    <main className=\"main\">\n      <div className=\"main__form\">\n        <h2>Crie uma tarefa</h2>\n        <form onSubmit={handlePost}>\n          <label>\n            <span>Nome: </span>\n            <input\n              type=\"text\"\n              name=\"name\"\n              onChange={(e) => setName(e.target.value)}\n              value={name}\n            />\n          </label>\n          <label>\n            <span>Descrição: </span>\n            <textarea\n              name=\"description\"\n              id=\"\"\n              value={desc}\n              onChange={(e) => setDesc(e.target.value)}\n            ></textarea>\n          </label>\n          <button type=\"submit\" className=\"btn\">\n            Enviar\n          </button>\n        </form>\n      </div>\n      <MainList initialTasks={tasks} />\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAE7C,eAAe;QACb,MAAM,QAAQ,MAAM,MAAM,aAAa,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QAC7D,SAAS,MAAM,KAAK;IACtB;IAEA,eAAe,WAAW,CAA6B;QACrD,EAAE,cAAc;QAEhB,MAAM,MAAM,aAAa;YACvB,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM,aAAa;YAAK;QACjD,GACG,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,IAAM;QAEd,QAAQ;QACR,QAAQ;IACV;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR;QACF;yBAAG,EAAE;IACL,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCAAG;;;;;;kCACJ,6LAAC;wBAAK,UAAU;;0CACd,6LAAC;;kDACC,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCACC,MAAK;wCACL,MAAK;wCACL,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wCACvC,OAAO;;;;;;;;;;;;0CAGX,6LAAC;;kDACC,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCACC,MAAK;wCACL,IAAG;wCACH,OAAO;wCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;0CAG3C,6LAAC;gCAAO,MAAK;gCAAS,WAAU;0CAAM;;;;;;;;;;;;;;;;;;0BAK1C,6LAAC,6IAAA,CAAA,UAAQ;gBAAC,cAAc;;;;;;;;;;;;AAG9B;GA1DwB;KAAA","debugId":null}}]
}